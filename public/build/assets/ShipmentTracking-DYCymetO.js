import{k,T as j,Q as L,q as i,o as a,f as c,b as e,a as s,w as l,e as O,u as f,d,c as G,t as o,F as y,x as v,g as h,A as M,B as Q,C as R}from"./app-B0RD5qJU.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const p=g=>(Q("data-v-e07766fd"),g=g(),R(),g),$={class:"section"},H=p(()=>e("strong",null,"Email:",-1)),J=p(()=>e("strong",null,"City:",-1)),K=p(()=>e("strong",null,"Address:",-1)),W=p(()=>e("strong",null,"Pincode:",-1)),X=p(()=>e("strong",null,"Exam Cycle:",-1)),Z=p(()=>e("strong",null,"Passing Year:",-1)),ee=p(()=>e("strong",null,"Exam Status:",-1)),te=p(()=>e("strong",null,"Created By:",-1)),se=p(()=>e("strong",{style:{color:"brown"}},"Documents Pending",-1)),le={key:0,style:{"list-style-type":"none"}},oe=p(()=>e("strong",{style:{color:"darkorange"}},"Documents Shipped",-1)),ne={key:0,style:{"list-style-type":"none"}},ae=p(()=>e("strong",{style:{color:"darkgreen"}},"Documents Delivered",-1)),de={key:0,style:{"list-style-type":"none"}},ce={class:"mx-12 my-8 flex flex-col"},re={class:"overflow-x-auto sm:-mx-6 lg:-mx-8"},ie={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},pe={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg relative"},_e={key:0,class:"min-w-full divide-y divide-gray-300"},ue=p(()=>e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Documents "),e("th",{scope:"col",class:"py-3.5 pl-1 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Tracking ID "),e("th",{scope:"col",class:"py-3.5 pl-1 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Shipping Agent "),e("th",{scope:"col",class:"py-3.5 pl-1 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Shipping Address "),e("th",{scope:"col",class:"py-3.5 pl-1 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Dispatched At "),e("th",{scope:"col",class:"py-3.5 pl-1 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Amount "),e("th",{scope:"col",class:"py-3.5 pl-1 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Delivery Status "),e("th",{scope:"col",class:"py-3.5 pl-1 pr-1 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," Delivered At ")])],-1)),me={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ye={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},fe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ve={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},he={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ge={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},xe={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},be={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},ke={__name:"ShipmentTracking",props:{client:{type:Object,required:!0}},setup(g){const n=k({}),w=k([]),x=k(!1);let S=k("");const u=j({student_name:"",student_roll_no:"",client_code:L().props.client.code}),B=()=>{if(u.student_name.length===0||u.student_roll_no.length===0){alert("Please Fill all details");return}M.post("/shipment/fetch",u).then(m=>{x.value=!0,S="Student details fetched successfully",n.value=m.data.student,w.value=m.data.shipments}).catch(m=>{x.value=!0,S="Failed to fetch student details",console.error(m)})},C=m=>new Date(m).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return(m,_)=>{const D=i("v-text-field"),r=i("v-col"),T=i("v-btn"),A=i("v-row"),z=i("v-form"),E=i("v-card-title"),I=i("v-card-subtitle"),V=i("v-divider"),b=i("v-icon"),q=i("v-card-text"),F=i("v-card"),P=i("v-sheet"),U=i("v-snackbar");return a(),c(y,null,[e("section",$,[s(P,{class:"elevation-4 rounded"},{default:l(()=>[s(z,{onSubmit:_[2]||(_[2]=O(t=>B(),["prevent"]))},{default:l(()=>[s(A,{class:"mx-12 my-2"},{default:l(()=>[s(r,{cols:"6",md:"4"},{default:l(()=>[s(D,{modelValue:f(u).student_name,"onUpdate:modelValue":_[0]||(_[0]=t=>f(u).student_name=t),label:"Enter your name",variant:"outlined","hide-details":"","single-line":"",rules:[t=>!!t||"Name is required"],required:""},null,8,["modelValue","rules"])]),_:1}),s(r,{cols:"6",md:"5"},{default:l(()=>[s(D,{modelValue:f(u).student_roll_no,"onUpdate:modelValue":_[1]||(_[1]=t=>f(u).student_roll_no=t),label:"Search roll number","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),s(r,{cols:"12",md:"3",class:"d-flex align-self-center"},{default:l(()=>[s(T,{size:"large",class:"ooey-gooey text-white",type:"submit"},{default:l(()=>[d("Search")]),_:1})]),_:1})]),_:1})]),_:1}),Object.keys(n.value).length>0?(a(),G(F,{key:0,class:"mx-12 elevation-4"},{default:l(()=>[s(E,{class:"text-h6 text-center"},{default:l(()=>[d(o(n.value.student_name),1)]),_:1}),s(I,{class:"text-center"},{default:l(()=>[d("Roll No: "+o(n.value.student_roll_no),1)]),_:1}),s(V),s(q,null,{default:l(()=>[s(A,null,{default:l(()=>[s(r,{cols:"3",class:"py-1"},{default:l(()=>[H,d(" "+o(n.value.email),1)]),_:1}),s(r,{cols:"3",class:"py-1"},{default:l(()=>[J,d(" "+o(n.value.student_city),1)]),_:1}),s(r,{cols:"3",class:"py-1"},{default:l(()=>[K,d(" "+o(n.value.student_address),1)]),_:1}),s(r,{cols:"3",class:"py-1"},{default:l(()=>[W,d(" "+o(n.value.student_pincode),1)]),_:1}),s(r,{cols:"3",class:"py-1"},{default:l(()=>[X,d(" "+o(n.value.exam_cycle),1)]),_:1}),s(r,{cols:"3",class:"py-1"},{default:l(()=>[Z,d(" "+o(C(n.value.student_passing_year)),1)]),_:1}),s(r,{cols:"3",class:"py-1"},{default:l(()=>[ee,d(" "+o(n.value.student_exam_status),1)]),_:1}),s(r,{cols:"3",class:"py-1"},{default:l(()=>[te,d(" "+o(n.value.created_by),1)]),_:1})]),_:1}),s(V),s(A,null,{default:l(()=>[s(r,{cols:"4",class:"py-1"},{default:l(()=>[se,(a(!0),c(y,null,v(n.value.documents,t=>(a(),c("span",null,[t!=null&&t.shipment_id?h("",!0):(a(),c("li",le,[s(b,{size:"medium",color:"red-darken-4",icon:"mdi-knob",class:"mx-1"}),d(o(t.document_name),1)]))]))),256))]),_:1}),s(r,{cols:"4",class:"py-1"},{default:l(()=>[oe,(a(!0),c(y,null,v(n.value.documents,t=>(a(),c("span",null,[t!=null&&t.shipment_id&&t.shipment.delivery_status=="shipped"?(a(),c("li",ne,[s(b,{size:"medium",color:"warning",icon:"mdi-truck",class:"mx-1"}),d(o(t.document_name),1)])):h("",!0)]))),256))]),_:1}),s(r,{cols:"4",class:"py-1"},{default:l(()=>[ae,(a(!0),c(y,null,v(n.value.documents,t=>(a(),c("span",null,[t!=null&&t.shipment_id&&t.shipment.delivery_status=="delivered"?(a(),c("li",de,[s(b,{size:"medium",color:"green-darken-2",icon:"mdi-check-decagram",class:"mx-1"}),d(o(t.document_name),1)])):h("",!0)]))),256))]),_:1})]),_:1})]),_:1})]),_:1})):h("",!0),e("div",ce,[e("div",re,[e("div",ie,[e("div",pe,[w.value.length>0?(a(),c("table",_e,[ue,(a(!0),c(y,null,v(w.value,t=>(a(),c("tbody",{key:n.value.id,class:"divide-y divide-gray-200 bg-white"},[e("tr",null,[e("td",me,[(a(!0),c(y,null,v(t.documents,N=>(a(),c("li",{style:{"list-style-type":"none"},key:N.id},[s(b,{size:"medium",color:"green-darken-2",icon:"mdi-check-circle",class:"mx-1"}),d(o(N.document_name),1)]))),128))]),e("td",ye,o(t.tracking_id),1),e("td",fe,o(t.shipping_agent||"N/A"),1),e("td",ve,o(t.shipping_address||"N/A"),1),e("td",he,o(t.dispatched_at||"N/A"),1),e("td",ge,o(t.amount||"N/A"),1),e("td",xe,o(t.delivery_status||"N/A"),1),e("td",be,o(t.delivered_at||"N/A"),1)])]))),128))])):h("",!0)])])])])]),_:1})]),s(U,{modelValue:x.value,"onUpdate:modelValue":_[3]||(_[3]=t=>x.value=t),timeout:5e3,color:"orange-darken-2",elevation:"24"},{default:l(()=>[d(o(f(S)),1)]),_:1},8,["modelValue"])],64)}}},Ae=Y(ke,[["__scopeId","data-v-e07766fd"]]);export{Ae as default};
